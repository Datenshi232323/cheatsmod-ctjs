import { Alert } from "../../Utils/alert"
cancelmovementpackets = false
tpback = false
const NoMovementPackets = new KeyBind("Cancel Movement Packets", Keyboard.KEY_NONE, "JangotAddons")
register("tick", () => {
    if (NoMovementPackets.isPressed()) {
        if (cancelmovementpackets) {
            Alert("Stopped Cancelling Movement Packets", 1)
            Client.getMinecraft().field_71439_g.field_70159_w = 0
            Client.getMinecraft().field_71439_g.field_70179_y = 0
            Client.getMinecraft().field_71439_g.field_70181_x = 0
            Player.getPlayer().func_70107_b(prevx, prevy, prevz)
            cancelmovementpackets = false
        } else {
            Alert("Cancelling Movement Packets", 1)
            prevx = Player.getX()
            prevy = Player.getY()
            prevz = Player.getZ()
            cancelmovementpackets = true
        }
    }
})

register("packetSent", (packet, event) => {
    if (cancelmovementpackets) {
        if (packet.class.getSimpleName() == "C04PacketPlayerPosition") {
            cancel(event)
        }
        if (packet.class.getSimpleName() == "C05PacketPlayerLook") {
            cancel(event)
        }
        if (packet.class.getSimpleName() == "C06PacketPlayerPosLook") {
            cancel(event)
        }
    }
})